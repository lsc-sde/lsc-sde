{
	"image": "mcr.microsoft.com/devcontainers/javascript-node:1-18-bullseye",
	"features": {
        "ghcr.io/devcontainers/features/docker-in-docker:2" : {},
		"ghcr.io/devcontainers/features/terraform:1": {},
		"ghcr.io/devcontainers/features/azure-cli:1": {},
		"ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {},
		"./features/k3d" : {},
		"./features/fluxcd" : {},
		"./features/metallb" : {},
		"./features/lscsde" : {}
	},
	"mounts": [
		"source=k3d-var-lib-docker,target=/var/lib/docker,type=volume",
		"source=${localWorkspaceFolder}/.devcontainer/k3d/volume,target=/var/lib/rancher/k3s/storage,type=bind"
	],
	"postCreateCommand": "npm install -g @devcontainers/cli",
	"postStartCommand": "git config --global --add safe.directory \"*\"",
	"customizations": {
		"vscode": {
			"extensions": [
				"mads-hartmann.bash-ide-vscode",
				"dbaeumer.vscode-eslint",
				"editorconfig.editorconfig"
			]
		}
	}
}